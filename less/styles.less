@import 'reset.less';
@import 'fonts.less';
@import 'variables.less';

/*start styles for mixins*/
.paragraph-text {
	line-height: 1.5;
	text-align: justify;
}

.border-bottom-post {
	border-bottom: 1px solid @color_post_info_border;
}

.color-social-link-desktop(@color_social_link_hover) {
	background-color: @color-social-links-bg;
	&:hover {
		background-color: @color_social_link_hover;
	}
}

.hover-nav-link-bg {
	background-color: @color_nav_link_hover;
}

.social-icons(@width, @background-position-x, @background-position-y) {
	width: @width;
	background-position: @background-position-x @background-position-y;
}

.pseudo(@content: '', @width: 0, @position: absolute, @height: 0) {
	content: @content;
	width: @width;
	height: @height;
	position: @position;
}

.pseudo-active-tab(@left: 50%, @border-style: solid, @bottom: -15px, @margin-left: -15px, @border-color-top: @color_navbar_border) {
	.pseudo;
	left: @left;
	bottom: @bottom;
	margin-left: @margin-left;
	border-style: @border-style;
	border-color: @border-color-top transparent transparent transparent;
}

.positioning-top-right(@top: 0, @right: 0) {
	top:  @top;
	right: @right;
}

.pseudo-fold-icon(@top: 0, @right: 2px) {
	.pseudo(@width: 16px, @height: 17px);
	.positioning-top-right(@top, @right);
	background-image: url('../images/fold.png');
	background-repeat: no-repeat;
}

.active-tab-style {
	&.active-tab:before {
		.pseudo-active-tab(@bottom: -15px);
		border-width: 12px 15px 0 15px;
	}
	&.active-tab:after {
		.pseudo-active-tab(@bottom: -10px, @margin-left: -8px, @border-color-top: @color_navbar_bg);
		border-width: 7px 8.5px 0 8.5px;
	}
}

.title-triangle(@margin-top, @border-width, @border-color-right ) {
	right: 0;
	position: absolute;
	top: 50%;
	margin-top: @margin-top;
	border-style: solid;
	border-width: @border-width @border-width @border-width 0;
	border-color: transparent @border-color-right transparent transparent;
}
/*end styles for mixins*/

html {
	min-height: 100%;
}

body {
	height: 100%;
	font-family: "Arial-Regular",sans-serif;
	font-size: 12px;
	background: @color_base;
}

a {
	cursor: pointer;
}

/*start styles for helper classes*/
.clearfix:after {
	.pseudo(@position: static);
	display: block;
	clear: both;
	visibility: hidden;
}

.sprite {
	background-image: url('../images/spritesheet.png');
	background-repeat: no-repeat;
}

.fixed {
	position: fixed;
	width: 100%;
	z-index: 9;
	top: 0;
	left: 0;
}
/*end styles for helper classes*/

/*start styles for header*/
header {
	width: 100%;
	.logo {
		padding: 5px 0 5px 0;
		text-align: center;
		a {
			display: block;
			margin: 0 auto;
		}
		img {
			width: 80%;
		}
	}
	.navbar {
		border-bottom: 4px solid @color_navbar_border;
		background: @color_navbar_bg;
		font-size: 0;
		ul {
			text-align: center;
			li {
				display: inline-block;
			}
		}
		a {
			display: inline-block;
			position: relative;
			width: 30px;
			height: 30px;
			line-height: 30px;
			padding: 0;
			margin: 2px 0 2px 3px;
			color: @color_base;
			font-family: "Arial-Narrow";
			font-size: 18px;
			text-align: center;
			vertical-align: middle;
			background-color: @color_navbar_link_bg_mobiles;
			text-transform: uppercase;
			text-decoration: none;
			&:hover {
				.hover-nav-link-bg;
				text-decoration: none;
			}
			&.active-tab:before {
				.pseudo-active-tab(@bottom: -10px, @margin-left: -10px, @border-color-top:	@color_danube);
				border-width: 8px 10px 0 10px;
			}
			&.active-tab:after {
				.pseudo-active-tab(@bottom: -7px, @margin-left: -7px, @border-color-top: @color_navbar_link_bg_mobiles);
				border-width: 7px 7px 0 7px;
			}
		}
		.tags {
			background-image: url('../images/tag.png');
			background-repeat: no-repeat;
			background-position: 5px;
		}
		.link-nav {
			margin-right: 3px;
			background: url('../images/thumbnail.png') no-repeat 5px;
			&.active-tab:before {
				display: none;
			}
			&.active-tab:after {
				.pseudo-active-tab(@bottom: -10px, @margin-left: -10px, @border-color-top:	@color_danube);
				border-width: 8px 10px 0 10px;
			}
		}
	}
}
/*end styles for header*/

/*start styles for content*/
.content-wrap {
	display: flex;
	flex-flow: row wrap;
	justify-content: center;
	width: 100%;
	margin: 0 auto;
}

.posts {
	margin-top: 18px;
	order: 2;
}

.sidebar{
	order: 1;
}

.post {
	width: 100%;
	position: relative;
	margin: 0 0 60px;
	.post-image {
		img {
			width: 100%;
		}
	}
	.post-title {
		display: flex;
		justify-content: center;
		padding: 10px 40px;
		background-color: #f4f5f6;
		a {
			display: inline-block;
			line-height: 1.2;
			text-align: center;
			word-wrap: break-word;
			font-family: 'Arial-Narrow',sans-serif;
			font-size: 20px;
			letter-spacing: 1px;
			font-weight: 600;
			color: @color_post_title;
			&:hover {
				text-decoration: underline;
			}
		}
	}
	.description {
		padding: 12px 0;
		p {
			.paragraph-text;
		}
	}
}

/*start styles for post-info*/
.post-info {
	display:	flex;
	align-items: center;
	height: 38px;
	.border-bottom-post;
	.wrap-date-author {
		width: 100%;
		display: flex;
		justify-content: space-between;
	}
	.post-date, .post-author {
		display: inline-block;
		padding-left: 23px;
	}
	.post-date {
		background-position: 5px -145px;
	}
	.post-author {
		background-position: 3px 0px;
		margin-right: 20px;
		&:hover .author-name {
			text-decoration: underline;
		}
	}
}

.post-social {
	position: absolute;
	bottom: -25px;
	left: 0;
	width: 100%;
	ul {
		display: flex;
		justify-content: space-between;
		li {
			height: 24px;
			margin-left: 6px;
			border-radius: 5px;
			background-color: @color-social-links-bg;
			&:first-child {
				margin-left: 0px;
			}
			a {
				display: inline-block;
				box-sizing: border-box;
				line-height: 24px;
				padding: 0 6px 0 0;
				border-radius: 5px;
				text-align: right;
				color: @color_base;
				font-weight: 800;
				text-decoration: none;
				&:hover {
					background-color: @color-social-links-bg;
				}
			}

			/*start social links styles*/
			.facebook {
				.social-icons(49px, 10px, -63px);
				background-color: @color_facebook_link;
				span {
					margin-left: 19px;
				}
			}
			.google-plus {
				.social-icons(41px, 0, -103px);
				background-color: @color_google_plus_link
			}
			.twitter {
				.social-icons(49px, 3px, -172px);
				background-color: @color_twitter_link
			}
			.vk {
				.social-icons(49px, 7px, -207px);
				background-color: @color_vk_link;
			}
			.yandexBlog {
				.social-icons(@width: 41px, @background-position-x: 9px, @background-position-y: -242px);
				background-color: @color_yandexBlog_link;
			}
			/*end social links styles*/
		}
	}
}
/*end styles for post-info*/

/*start styles for aside*/
.sidebar {
	display: none;
	width: 100%;
	margin: 0;
	background-color: @color_sidebar_bg_mobiles;
	section {
		position: relative;
		margin: 0;
		padding: 20px 16px 30px;
		.title {
			bottom: 5px;
			right: 8px;
			position: absolute;
			display: inline-block;
			h2 {
				padding: 5px 25px 0 0;
				font-family: 'TrendSansOne';
				font-size: 17px;
				font-weight: bold;
				color: @color_base;
				text-transform: uppercase;
			}
		}
	}
	p {
		.paragraph-text;
	}
	.tags {
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		padding: 20px 16px;
		a {
			margin: 0px 16px 5px 0;
		}
	}
}
/*end styles for aside*/
/*start styles for tags*/
.tags a {
	display: inline-block;
	position: relative;
	margin: 0 10px 5px 0;
	padding: 4px 20px 3px 13px;
	background-color: @color_aside_border_tags;
	color: @color_base;
	text-decoration: none;
	&:hover {
		background-color: @color_tags_hover;
		&:after {
			border-color: transparent transparent transparent @color_tags_hover;
		}
	}
	&:before {
		.pseudo(@width: 7px, @height: 7px);
		.positioning-top-right(5px, 0);
		border-radius: 7px;
		background-color: @color_base;
	}
	&:after {
		.pseudo;
		.positioning-top-right(0px, -9px);
		border-style: solid;
		border-width: 9px 0 10px 9px;
		border-color: transparent transparent transparent @color_aside_border_tags;
	}
}
/*end styles for tags*/
/*end styles for content*/

/*start styles for media*/

/*start media for mobile devices*/
@media only screen
	and (min-width: 320px)
	and (max-width: 767px) {
		header {
			.navbar {
				border-bottom: none;
				&.fixed {
					background: @color_navbar_bg url('../images/logo-navbar-mobile.png') no-repeat 50%;
				}
				.nav {
					display: none;
					flex-direction: column;
					background-color: @color_sidebar_bg_mobiles;
					li {
						display: flex;
						justify-content: center;
						border-top: 1px solid @color_base;
						&:first-child {
							border-top: none;
						}
						a {
							display: block;
							position: static;
							width: auto;
							height: 40px;
							line-height: 40px;
							margin-left: 0;
							background-color: initial;
							color: @color_danube;
						}
					}
				}
				a {
					&.link-tabs:before {
						display: inline-block;
					}
					&.link-nav {
						float: right;
						background-color: initial;
					}
				}
			}
		}
		.sidebar {
			.title {
				cursor: pointer;
				h2 {
					position: relative;
					&:after {
						.pseudo-fold-icon;
					}
				}
			}
			p {
				color: @color_paragraph_text_mobiles;
			}
		/*start styles for tags*/
			.tags {
				position: relative;
				.fold-icon {
					cursor: pointer;
					.pseudo-fold-icon(@top: initial, @right: 15px);
					bottom: 10px;
				}
				a {
					margin-bottom: 10px;
					opacity: 0.6;
				}
			}
		}
	}
/*end media for mobile devices*/

/*start media for tablets*/
@media only screen
	and (min-width: 768px)
	and (max-width: 1023px) {
		header {
			.logo {
				padding: 10px 0 10px 0;
				img {
					width: 60%;
				}
			}
			.navbar {
				display: flex;
				justify-content: space-between;
				&.fixed {
					background: @color_navbar_bg;
				}
				a {
					height: auto;
					width: 43px;
					line-height: initial;
					margin: 3px 0;
					padding: 13px 0;
					text-decoration: none;
					font-size: 18px;
					&.about, &.some {
						padding: 12px 0;
						font-size: 20px;
						color: @color_steel_blue;
					}
					&.some {
						order: 1;
					}
					&.tags, &.link-nav {
						display: none;
					}
				}
				.nav {
					display: flex;
					width: 75%;
					justify-content: space-between;
					a {
						padding: 13px 20px 13px;
						background-color: initial;
						width: auto;
						.active-tab-style;
						&:hover {
							.hover-nav-link-bg;
						}
					}
				}
			}
		}
		.content-wrap {
			width: 100%;
		}
		.posts {
			margin-top: 0;
		}
		.post {
			padding: 0 60px;
			box-sizing: border-box;
			margin-bottom: 55px;
			.post-title {
				justify-content: start;
				padding: 10px 0;
				background-color: inherit;
				.border-bottom-post;
			}
		}
		/*start styles for post-info*/
		.post-info {
			.border-bottom-post;
			.wrap-date-author {
				justify-content: start;
			}
			.post-date, .post-author {
				display: inline-block;
				padding-left: 23px;
			}
			.post-date {
				margin: 0 18px 0 5px;
			}
		}

		.post-social {
			position: absolute;
			right: 0;
			top: 0;
			bottom: initial;
			left: initial;
			width: auto;
			ul {
				display: flex;
				flex-direction: column;
				align-items: flex-end;
				li {
					margin-bottom: 5px;
					&:last-child {
						margin-bottom: 0px;
					}
				}
			}
		}
/*start styles for sidebar*/
		.sidebar {
			display: block;
			width: 100%;
			padding: 0;
			background-color: @color_base;
			section {
				display: none;
				margin: 0;
				padding: 0;
				.title {
					right: inherit;
					bottom: inherit;
					cursor: pointer;
					transform: rotate(-90deg);
					background-color: @color_active_link_tag_bg;
					h2 {
						padding: 13px 30px 13px 20px;
						color: @color_active_link_tag;
					}
					&:before {
						.pseudo;
						.title-triangle(@margin-top: -9px, @border-width: 9px, @border-color-right: @color_navbar_border);
					}
					&:after {
						.pseudo;
						.title-triangle(@margin-top: -4px, @border-width: 4px, @border-color-right: @color_danube);
					}
				}
				&.about {
					.title {
						left: -38px;
						top: 38px;
					}
				}
				&.some {
					.title {
						right: -58px;
						top: 58px;
					}
				}
				p {
					padding: 20px 60px 0;
					.paragraph-text
				}
			}
			.tags {
				display: flex;
				flex-wrap: wrap;
				justify-content: center;
				padding: 30px 60px;
				a {
					margin: 0px 16px 5px 0;
				}
			}
		}
/*end styles for sidebar*/
	}
/*end styles for tablets*/

/*start styles for desktops*/
@media screen and (min-width: 1024px) {
	header {
		margin: 0 0 50px;
		.logo {
			padding: 10px 0 15px 0;
			img {
				width: initial;
			}
		}
		.navbar {
			display: block;
			> a {
				display: none;
			}
			&.fixed .nav {
				background: url('../images/logo-navbar-desktop.png') no-repeat 20px;
			}
			.nav {
				width: 980px;
				margin: 0 auto;
				a {
					padding: 10px 20px 10px;
					background-color: initial;
					width: auto;
					margin: 3px 0;
					&:hover {
						.hover-nav-link-bg;
					}
					.active-tab-style;
				}
			}
		}
	}
	.posts {
		width: 640px;
		margin: 0 28px 0 0;
		order: 1;
	}

	.post {
		margin: 0 0 39px;
		.post-image {
			width: 100%;
			height: 230px;
			img {
				height: 100%;
			}
		}
		.post-title {
			justify-content: left;
			padding: 10px 0;
			background-color: initial;
			.border-bottom-post;
		}
		.post-info {
			justify-content: space-between;
		}
	}

	.post-social	{
		position: initial;
		ul {
			justify-content: flex-end;
			/*start social links styles*/
			a.facebook {
				.color-social-link-desktop(@color_facebook_link);
			}
			a.google-plus {
				.color-social-link-desktop(@color_google_plus_link);
			}
			a.twitter {
				.color-social-link-desktop(@color_twitter_link);
			}
			a.vk {
				.color-social-link-desktop(@color_vk_link);
			}
			a.yandexBlog {
				.color-social-link-desktop(@color_yandexBlog_link);
			}
			/*end social links styles*/
		}
	}

/*start styles for sidebar*/
	.sidebar {
		display: block;
		order: 2;
		width: 254px;
		background-color: inherit;
		section {
			margin: 0 0 32px;
			padding: 0;
			.title {
				display: block;
				position: relative;
				right: 0;
				bottom: 0;
				margin: 0 0 15px;
				padding: 0 0 0 41px;
				border-bottom: 5px solid @color_aside_border_tags;
				&:before {
					display: inline-block;
					position: absolute;
					top: 1px;
					left: 0;
					width: 30px;
					height: 23px;
					line-height: 23px;
					background: @color_aside_border_tags;
					color: @color_base;
					font-weight: bold;
					font-family: "Arial-Narrow";
					font-size: 18px;
					text-align: center;
				}
				h2 {
					padding: 5px 0 1px;
					font-family: 'TrendSansOne';
					font-size: 17px;
					font-weight: bold;
					color: @color_aside_title;
					text-transform: uppercase;
				}
			}
			&.about .title {
				&:before {
					content: '?';
				}
			}
			&.some .title {
				&:before {
					content: '!';
				}
			}
			p {
				.paragraph-text
			}
		}
/*start styles for tags*/
		.tags {
			display: inherit;
			padding: 0;
			a {
				display: inline-block;
				position: relative;
				margin: 0 10px 5px 0;
				padding: 4px 20px 3px 13px;
				background-color: @color_aside_border_tags;
				color: @color_base;
				text-decoration: none;
				&:hover {
					background-color: @color_tags_hover;
					&:after {
						border-color: transparent transparent transparent @color_tags_hover;
					}
				}
				&:before {
					.pseudo(@width: 7px, @height: 7px);
					.positioning-top-right(5px, 0);
					border-radius: 7px;
					background-color: @color_base;
				}
				&:after {
					.pseudo;
					.positioning-top-right(0px, -9px);
					border-style: solid;
					border-width: 9px 0 10px 9px;
					border-color: transparent transparent transparent @color_aside_border_tags;
				}
				&:nth-child(3n) {
					margin-right: 0;
				}
			}
/*end styles for tags*/
		}
	}
/*end styles for sidebar*/
}
/*end styles for desktops*/